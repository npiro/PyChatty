
<!doctype html>
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js lt-ie9 lt-ie8" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js lt-ie9" lang="en"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>M&S webchat dashboard</title>
    <meta name="description" content="Interactive exploration, integration and visualisation of complex biological studies.">
    <meta name="viewport" content="width=device-width">
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
    <link href='https://fonts.googleapis.com/css?family=Ubuntu:500' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Raleway' rel='stylesheet' type='text/css'>
    <link href="css/main.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="css/dc.css">
    <link rel="stylesheet" type="text/css" href="css/dashboard.css">
    <link href="css/bootstro.css" rel="stylesheet">

    <script src='https://www.google.com/recaptcha/api.js'></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.3/jquery.min.js"></script>
    <script src="js/bootstrap.min.js"></script>

    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-80663941-1', 'auto');
        ga('send', 'pageview');
    </script>

</head>

<body id="body" class="">
    <noscript>
        <style type="text/css">
            .container {display:none;}
        </style>
        <div class="noscriptmsg col-md-8" style="text-align: justify;">
        <h1>You don't have JavaScript enabled.</h1>
          We understand, that you represent a very "special" 1% of all users, but<br>
          please enable JavaScript to use  CorrMapper (and 99.99% of the net).<br><br>
          Cheers!
        </div>
    </noscript>

    <!--[if lt IE 7]><p class=chromeframe>Your browser is <em>ancient!</em>
        <a href="http://browsehappy.com/">Upgrade to a different browser</a> or
        <a href="http://www.google.com/chromeframe/?redirect=true">install Google Chrome Frame</a>
        to experience this site.</p><![endif]-->

    

    
    <div class="container-fluid">

    <!-- ===================================================================== -->
    <!--  H E A D E R  -->
    <div class="row">
        <div class="col-xs-12 bootstro title"
            data-bootstro-title=" Tour of webchat dashboard"
            data-bootstro-content="Looks like this is your first time using this dashboard.
                                  Please take a minute to go through this tour and learn about the interface so you
                                  get the maximum out of your data. <br><br>
                                  You can navigate this tour with the buttons below, or with the
                                  &rarr; &darr;, &larr; &uarr; keys
                                  <br><br>
                                  You can skip this tour now, and come back to it later, clicking the question mark
                                  in the top-right corner."
            data-bootstro-step = "0"
            data-bootstro-placement="bottom"
            style="padding-top: 40px; margin-bottom: 0px">
            <h2>
                <b>Marks Spencer Webchat Dashboard</b>
                <a id="help" href="#" ><span class="fa fa-question" aria-hidden="true" style="float: right; padding-top: 0px; padding-right: 10px; font-size: 1em;"></span></a>
            </h2>
        </div>
    </div>

    <!-- ===================================================================== -->
    <!--  C H A R T S  -->
    <div class="row">
    <!-- =================================================================== -->
    <!--  T O P   C O L U M N  -->
        <div class="col-xs-12">

            <!-- =============================================================== -->
            <!--  C O U N T E R -->

            <div class="col-xs-12 dc-data-count dc-chart bootstro" id="data-count"
                data-bootstro-title="Data count"
                data-bootstro-content="Here you'll see the total number of active samples/patients.
                                       If no filters were applied to the dataset using the charts below
                                       this will equal the total number of chats (ca. 51000).
                                       If you applied (multiple) filter(s) it will show the size of currently
                                       active subset.
                                       <br><br>
                                       The Reset All button will clear all filters on all charts and take you
                                       back to your full dataset."
                data-bootstro-step = "6"
                data-bootstro-placement="bottom">
                <small>
                    <span class="filter-count"></span> selected out of <span class="total-count"></span> chats |
                    <a id="all" href="#">Reset All</a>
                    </span>
                </small>
            </div>

            <!-- =============================================================== -->
            <!--  D A T E   C H A R T S -->
            <div class="col-lg-12 bootstro"
                data-bootstro-title="Charts for date of chat"
                data-bootstro-content="These pie and bar charts are completely interactive. We can
                click any of the slices of the pie-charts, or select any range of the bar-chart
                and immediately all other variables will filter accordingly. Bar charts
                could be selected by pressing on the and dragging the mouse to adjust
                the filtering range.<br><br>
                Furthermore multiple filters/selections could be applied to the dataset
                simultaneously, e.g. clicking on a day of the week, and selecting the
                12-14 h period.<br><br>
                Finally, each filter could be reset using either reset all button in the
                top-left corner. Filters could be reset individually as well, using the
                reset button above the given chart."
                data-bootstro-step = "1"
                data-bootstro-placement="bottom"
                style="padding-left: 0px">

                <div class="col-xs-12 col-sm-6 col-md-6 col-lg-3 pie-chart">
                    <h4>Month<small><a id="Month"> reset</a></small></h4>
                    <div class="dc-chart" id="chart-Month"></div>
                </div>

                <div class="col-xs-12 col-sm-6 col-md-6 col-lg-3 pie-chart">
                    <h4>Week <small><a id="Date">reset</a></small></h4>
                    <div class="dc-chart" id="chart-Date"></div>
                </div>

                <div class="col-xs-12 col-sm-6 col-md-6 col-lg-3 pie-chart">
                    <h4>Day <small><a id="Day">reset</a></small></h4>
                    <div class="dc-chart" id="chart-Day"></div>
                </div>

                <div class="col-xs-12 col-sm-6 col-md-6 col-lg-3 pie-chart">
                    <h4>Hour <small><a id="Hour">reset</a></small></h4>
                    <div class="dc-chart" id="chart-Hour"></div>
                </div>
            </div>

        </div>
    </div>
    <!-- =================================================================== -->
    <!--  L O W E R  C O L U M N S -->
    <div class="row">
        <!-- =============================================================== -->
        <!--  L E F T  C O L U M N -->
        <div class="col-xs-12 col-sm-8 col-md-8 col-lg-9">

            <div class="col-xs-12 col-sm-6 col-md-6 col-lg-4 pie-chart bootstro"
                data-bootstro-title="Agent pie-chart"
                data-bootstro-content="This pie-chart shows the individual customer service
                agents and the number of chats they handled. We can click on just one of them
                or any arbitrary group, by selecting multiple slices."
                data-bootstro-step = "2"
                data-bootstro-placement="right">
                <h4>AgentID<small><a id="AgentID"> reset</a></small></h4>
                <div class="dc-chart" id="chart-AgentID"></div>
            </div>


            <div class="col-lg-8 bootstro"
                 data-bootstro-title="Length of chats"
                 data-bootstro-content="These bar-charts, display
                 the length of each chat in terms of number of client-messages and total
                 amount of time in seconds, respectively."
                 data-bootstro-step = "3"
                 data-bootstro-placement="left"
                 style="padding-left: 0px">
                <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6 pie-chart">
                     <h4>Messages per chat<small><a id="Messages"> reset</a></small></h4>
                     <div class="dc-chart" id="chart-Messages"></div>
                </div>

                <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6 pie-chart">
                    <h4>Length of chat in seconds<small><a id="Seconds"> reset</a></small></h4>
                    <div class="dc-chart" id="chart-Seconds"></div>
                </div>
            </div>
            <div class="col-lg-12 bootstro"
                 data-bootstro-title="Sentiment analysis"
                 data-bootstro-content="These bar-charts display the senitment of the first and last
                 messege of the user, along with the overall change in sentiment through the chat.<br><br>
                 -1 corresponds to sad/angry, negative sentiment, 1 means happy/satisfied and positive,
                 while 0 is neutral. <br><br>
                 These three barcharts allow us to examine how a given agent is performing, or whether
                 the customer satisfaction is increasing over time. Also it clearly shows that on average
                 the customers leave being happier than they entered the chat."
                 data-bootstro-step = "4"
                 data-bootstro-placement="top"
                 style="padding-left: 0px">
                <div class="col-xs-12 col-sm-6 col-md-6 col-lg-4 pie-chart">
                    <h4>Sentiment (1st client message)<small><a id="SentimentFirst"> reset</a></small></h4>
                    <div class="dc-chart" id="chart-SentimentFirst"></div>
                </div>

                <div class="col-xs-12 col-sm-6 col-md-6 col-lg-4 pie-chart">
                    <h4>Sentimen (last client message)<small><a id="SentimentLast"> reset</a></small></h4>
                    <div class="dc-chart" id="chart-SentimentLast"></div>
                </div>

                <div class="col-xs-12 col-sm-6 col-md-6 col-lg-4 pie-chart">
                    <h4>Sentiment (overall change)<small><a id="SentimentFit"> reset</a></small></h4>
                    <div class="dc-chart" id="chart-SentimentFit"></div>
                </div>
            </div>

        </div>

        <!-- =============================================================== -->
        <!--  R I G H T  C O L U M N -->
        <div class="col-xs-12 col-sm-4 col-md-4 col-lg-3 bootstro"
                 data-bootstro-title="Topic modelling"
                 data-bootstro-content="This barplot shows the predicted topic of each chat.
                 Just with all other charts, multiple selections are allowed. This makes it
                 easy to check if the average sentiment in a given topic is different from
                 another, etc."
                 data-bootstro-step = "5"
                 data-bootstro-placement="left">
                    <h4>Topic<small><a id="Topics"> reset</a></small></h4>
                    <div class="dc-chart" id="chart-Topic" style="left-margin: -50px"></div>
        </div>

    </div>

    <!-- ===================================================================== -->
    <!--  D A T A   T A B L E -->
    <div class="row">
        <div class="col-xs-12 bootstro" style="padding-left: 30px; padding-right: 30px; padding-top: 20px"
            data-bootstro-title="Data table"
            data-bootstro-content="Here's the actual data table that is used to visualise the charts above.
                            Too speed up the visualisation and filtering only 200 lines are shown at most."
            data-bootstro-placement="top"
             data-bootstro-step = "7">
            <!-- ===================================================================== -->
            <h3>Data table</h3>
            <table class="table table-bordered table-striped" id="data-table">
                <thead>
                <tr class="header">
                        <th>ID</th>

                        <th>AgentID</th>
                        <th>Topic</th>
                        <th>Messages</th>
                        <th>Seconds</th>
                        <th>Date</th>
                        <th>Month</th>
                        <th>Day</th>
                        <th>Hour</th>
                        <th>Sentiment (1st)</th>
                        <th>Sentiment (last)</th>
                        <th>Sentiment (fit)</th>
                    </tr>
                </thead>
            </table>
        </div>
    </div>

    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.17/d3.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/crossfilter/1.3.12/crossfilter.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script>
    <script type="text/javascript" src="js/dc_min.js"></script>
    <script src="js/bootstro.js"></script>
    <script type="text/javascript">
        var data_loc = "ms.json";
        function help(){
            bootstro.start('.bootstro', {
                onComplete: function (params) {
                    alert("You have reached the end of the tour. Press 'Ok I got it' button or the Esc key to exit.");
                }
            })
        };
        $('#help').click(help);
        $( document ).ready(help);
    </script>
    <script type="text/javascript" src="js/dashboard.js"></script>
    <footer class="footer">
                <p> <a href="s2ds.org/london.html">S2DS</a>, 2016 | Marks & Spencer Team:
                    Walter Acevedo, Jean-Christophe Denis, Daniel Homola, Nicolas Piro
                </p>
            </footer>
        </div>
</body>
</html>